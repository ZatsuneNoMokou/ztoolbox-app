<section class="ws-client-datas grid no-r-gap">
	{% if wsClientDatas -%}
	<h1 class="grid-12">Web extensions</h1>
	{%- for id, client in wsClientDatas %}
	<div class="grid-4">
		{% set ogData = client.tabData.openGraph %}

		{% set pageRatings = client.tabData.pageRating | default([]) %}
		{% set isMature = pageRatings.includes('mature') or pageRatings.includes('RTA-5042-1996-1400-1577-RTA') %}
		<article id="{{ id }}" title="{{ client.browserName }}" class="buttonItem wsClientDatasItem{% if isMature %} isMature{% endif %}"{% if client.tabData and client.tabData.url %} data-tab-data-url="{{ client.tabData.url }}" draggable="true"{% endif %}>
			{%- if client.tabData.faviconUrl -%}
			<picture>
				<img class="icon" src="{{ client.tabData.faviconUrl }}" width="32" height="32" alt="" crossorigin="anonymous" />
			</picture>
			{%- else -%}
			<span class="icon material-icons">tab</span>
			{%- endif %}

			<div class="title">
				{%- if client.tabData.name -%}{{ client.tabData.name }}{% else %}{{ client.browserName }}{% endif -%}
				{%- if client.notificationSupport %} üîî{% endif -%}
				{%- if ogData|length %} <span class="{% if client.tabData.openGraph %} cursor{% endif %}" data-open-graph>üåê</span>{% endif -%}
			</div>
			<div class="wsClientDatas">
				{%- if client.tabData -%}
					{% if client.tabData.ip -%}
						{%- if client.tabData.ipMore -%}
							{{ client.tabData.ipMore }} ({{ client.tabData.ip }})
						{%- else -%}
							{{ client.tabData.ip }}
						{%- endif %}

					<a class="button" href="https://dnslytics.com/ip/{{ client.tabData.ip }}" title="DNSlytics" target="_blank"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADU0lEQVR4Ab2WA3QcURSG9zA9iG3NTN0uatu2FdQ4TI+j2lGNYLc2Yq+N2mbscno3zqzzkrxzvvW+75/77sw8WnsHFpk0Gg9P5ODhSd+Ae1h4ig2tK4Z/NNsXhGkA2ZZEQcDeK7adKg+MSBwLslKANIAQPYTRkifVNYqMIfILP2/XoXIiOtGTCE8qMSSlgoUnSXz2sO07RH5SSjgNO3wg3aDQAER4shQ5RNyTHo77xYxMIjzxn6UBGpH1Dj/j0C754Ue9HeLVuHzznfkSA5N/BcR4eHI6lPwSLFESvL8GZ0MWPL8A/jT+Tt5jd6KjRfIjCj+7ODUuBsixcVHFMEk1CFKxiOQwLPzCJGgyN1NzTCv8PmXivTfFA0/mSXruuQxV5DiZJU9Q+9jHqQmpVg78GXAwYSoWE2NlaQWnPiCtZvOrqgFyNq/q35SMT2nzCqrdTTRcgG2cBhc1ysl4Df4cpYdAngqQrSiaza0YaZa8kQykALyqMK2YQu1cfuXoNj+MeYHZgExIkZOxKvw6SoBZ/KopjVIqJbPFNd7N8lg1LtAKdVARSUgBuNUeuvJGBFX3638Ur8Ye6JUD8SrsEkqAxmX4YSjEXGHFCBqIigwFgMqkowaYw6+SGQoAsGkg4RgKAIhRA4Aky0iAIm0FRhkJ8A09QPVVIwHuNVzz1USqwT545OeGWAG2/iasFEwVFjfsoo49CvABWanePlBikxED3KHKtX0xvbDMnnIJxkaDsFY3BBaGFEBQlUMJIFooLdG/a4pRESN1zwoiFbECb1rJ5Qv55cZvzycf93SPaeiJf40hquFiZfHNaE3umG5r8mdMA+nfRrmUWnaDIzSX5bSD3y97j7yHNAYqckxBTDP1n3VchkdQIXNKMJexE0gFqlfzgosa5Yq5ogrL9gSrRIMcg7lMeQiXQYZy6X9hwtchXGZOEJdxO6iQcTG4kHEVyArmMWTwXRFAUlnEvymllt2iEcTv7dAoIC2H+W8u72N2/ZGjjI2Ffe1hQqmlAdZyFz6YKa1wQpJTQkgsCPB9Te5AN1QvpavpdrDmIjPktUEF9OG0zhihUpZtEJcuNCIvhrUfiW4yEQJEAh05j353A7+/J60rxnLhYBs4Je+B+BsccQpKyf8D3R31CR/6m7AAAAAASUVORK5CYII=" alt="" height="24" width="24"></a>{% endif -%}
					{%- if client.tabData.ipMore and client.tabData.domain %}&nbsp;{% endif -%}
					{%- if client.tabData.domain %}<a class="button" href="https://dnschecker.org/#A/{{ client.tabData.domain }}" title="DNS Checker" target="_blank"><img src="https://dnschecker.org/themes/common/images/general/favicon-32.png" alt="" height="24" width="24"></a> <button class="material-icons" title="Dig domain" data-dig-cmd="{{ client.tabData.domain }}">dns</button>{% endif -%}
				{%- endif -%}
			</div>
			{% set ogData = client.tabData.openGraph %}
			{% if ogData | length %}
				<div class="openGraphData">
					<img class="og-image" src="{{ ogData.image }}" alt="" loading="lazy" />
					<div class="title ellipse">{% if ogData.title %}{{ ogData.title }}{% else %}‚ö†Ô∏è (No title) {% endif %}</div>
					<div class="data ellipse">
						<p>{% if ogData.description %}{{ ogData.description }}{% else %}‚ö†Ô∏è (No description) {% endif %}</p>
						<h4>{% if ogData.url %}{{ ogData.url }}{% else %}‚ö†Ô∏è (No url) {% endif %}</h4>
						<pre>{{ ogData | dump('\t') }}</pre>
					</div>
				</div>
			{%- endif -%}
		</article>
	</div>{% endfor %}
	{%- endif %}
</section>
